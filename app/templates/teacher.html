<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Teacher Console</title>
  <link rel="stylesheet" href="/static/style.css" />
</head>
<body data-role="teacher">
  <header>
    <h1>Teacher Console</h1>
    <p>WebSocket: <span id="ws-status">connecting...</span></p>
  </header>

  <section class="panel">
    <h2>Heater Manual</h2>
    <form id="heater-manual-form">
      <label>Power (0-100)
        <input id="heater-power" type="number" min="0" max="100" value="0" />
      </label>
      <button type="submit">Apply</button>
    </form>
  </section>

  <section class="panel">
    <h2>Heater Random Scenario</h2>
    <form id="heater-random-form" class="grid">
      <label>Min Power
        <input id="rand-min" type="number" min="0" max="100" value="20" />
      </label>
      <label>Max Power
        <input id="rand-max" type="number" min="0" max="100" value="80" />
      </label>
      <label>On Min (s)
        <input id="rand-on-min" type="number" min="1" max="3600" value="2" />
      </label>
      <label>On Max (s)
        <input id="rand-on-max" type="number" min="1" max="3600" value="10" />
      </label>
      <label>Off Min (s)
        <input id="rand-off-min" type="number" min="1" max="3600" value="2" />
      </label>
      <label>Off Max (s)
        <input id="rand-off-max" type="number" min="1" max="3600" value="10" />
      </label>
      <button type="submit">Start Random</button>
    </form>
    <button id="heater-stop" class="danger">Stop & Reset</button>
  </section>

  <section class="panel">
    <h2>Drain Valve</h2>
    <p>State: <strong id="drain-valve-state">unknown</strong></p>
    <button id="drain-open">Open Drain</button>
    <button id="drain-close" class="danger">Close Drain</button>
  </section>

  <section class="panel">
    <h2>Student Arduino Mode (#2)</h2>
    <p>Current mode: <strong id="student-mode-status">unknown</strong></p>
    <p id="mode-warning" class="muted"></p>
    <button id="mode-baseline">Enable Baseline (Web-control)</button>
    <button id="mode-student" class="danger">Allow Student Firmware</button>
    <p class="muted">When student mode is enabled, web actuators are disabled.</p>
  </section>

  <section class="panel">
    <h2>Temperatures</h2>
    <div class="grid">
      <div><strong>T1:</strong> <span id="t1-value">n/a</span></div>
      <div><strong>T2:</strong> <span id="t2-value">n/a</span></div>
      <div><strong>T3:</strong> <span id="t3-value">n/a</span></div>
    </div>
  </section>

  <section class="panel">
    <h2>Telemetry</h2>
    <pre id="telemetry">waiting...</pre>
  </section>

  <script src="/static/app.js"></script>
</body>
</html>
